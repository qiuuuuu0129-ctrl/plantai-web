{% extends "base.html" %}
{% block content %}
<h2>ç¯å¢ƒç›‘æµ‹é¢æ¿</h2>
<div id="cards" class="cards"></div>

<section class="chart-section">
  <canvas id="tempChart"></canvas>
</section>

<script>
async function loadSensors() {
  const res = await fetch('/sensors');
  const data = await res.json();
  const box = document.getElementById('cards');
  box.innerHTML = `
    <div class="card">ğŸŒ¡ æ¸©åº¦ï¼š${data.temperature_c} â„ƒ</div>
    <div class="card">ğŸ’§ æ¹¿åº¦ï¼š${data.humidity_pct} %</div>
    <div class="card">â˜€ï¸ å…‰ç…§ï¼š${data.light_lux} lux</div>
    <div class="card">ğŸŒ± åœŸå£¤æ¹¿åº¦ï¼š${data.soil_moisture_pct} %</div>
  `;
}
loadSensors();
setInterval(loadSensors, 30000); // æ¯åŠåˆ†é’Ÿåˆ·æ–°
</script>
{% endblock %}
